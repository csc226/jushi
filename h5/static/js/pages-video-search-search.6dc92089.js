(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-video-search-search"],{"09bc":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-scroll-view",{staticClass:"searchBox",style:{filter:t.$store.state.grayscale},attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.lower.apply(void 0,arguments)}}},["string"===typeof t.searchResult?i("v-uni-view",{staticClass:"emptyBox"},[i("v-uni-image",{staticStyle:{width:"128rpx"},attrs:{src:a("0e6c"),mode:"widthFix"}}),i("v-uni-view",{staticClass:"emptyLabel"},[t._v("没有相关资源...")])],1):t._e(),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isConclusion,expression:"isConclusion"}],staticStyle:{"font-size":"24rpx",color:"#9d9d9d","text-align":"center",padding:"40rpx"}},[t._v(t._s(t.$store.state.conclusion))])],1)},n=[]},"0e6c":function(t,e,a){t.exports=a.p+"static/img/icon-nodata.a0f1c5df.png"},"1f01":function(t,e,a){"use strict";var i=a("4ea4");a("99af"),a("ac1f"),a("841c"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(a("522b")),n=(i(a("4491")),a("a27f")),s={data:function(){return{historyList:uni.getStorageSync("search:history")?uni.getStorageSync("search:history"):[],searchText:"",searchResult:[],searchGo:!1,isDel:!1,page:1,pagecount:0,site:this.$store.state.site,isConclusion:!1}},onNavigationBarSearchInputClicked:function(){this.searchResult=[]},onNavigationBarSearchInputChanged:function(t){this.searchGo=!1,this.searchText=t.text,this.searchResult=[],this.historyList=uni.getStorageSync("search:history")},onNavigationBarSearchInputConfirmed:function(){this.search()},onNavigationBarButtonTap:function(){this.search()},onReachBottom:function(){},onLoad:function(){"grayscale(1)"==this.$store.state.grayscale&&uni.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#A2A2A2"}),this.setFocus(!0)},methods:{clearHistory:function(){this.historyList=o.default.removeHistory()},delOneHistory:function(t){o.default.removeOneHistory(t),this.historyList=uni.getStorageSync("search:history")},setFocus:function(t){},openDetailTap:function(t){console.log(t);uni.navigateTo({url:"/pages/video/detail/detail?id=".concat(t.id[0])})},search:function(t){var e=t||this.searchText;console.log(e),this.isConclusion=!1,e?uni.navigateTo({url:"/pages/video/searchList?val=".concat(e)}):uni.showToast({title:"请输入搜索字段",icon:"error"}),this.isDel=!1,this.setFocus(!1)},lower:function(){var t=this;if(this.page==this.pagecount)this.isConclusion=!0;else{this.page+=1;var e="".concat(this.site.api,"?pg=").concat(this.page,"&wd=").concat(encodeURIComponent(this.searchText));(0,n.getVideoData)(e).then((function(e){t.searchResult=t.searchResult.concat(e.videoList)}))}},delSearch:function(){this.isDel=!this.isDel},historyTap:function(t){}}};e.default=s},"3f70":function(t,e,a){"use strict";a.r(e);var i=a("1f01"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},"522b":function(t,e,a){"use strict";a("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={setHistory:function(t,e){e=e||"search:history";var a=uni.getStorageSync(e);a||(a=[]);var i={};i="string"===typeof t?{name:t,time:(new Date).getTime()}:t;for(var o=0;o<a.length;o++)if(a[o].name==i.name){a.splice(o,1);break}a.unshift(i),uni.setStorage({key:e,data:a,success:function(t){console.log(t)}})},removeHistory:function(t){t=t||"search:history",uni.removeStorageSync(t);var e=[];return e},removeOneHistory:function(t,e){e=e||"search:history";var a=uni.getStorageSync(e);a||(a=[]);var i={};i="string"===typeof t?{name:t.name,time:(new Date).getTime()}:t;for(var o=0;o<a.length;o++)if(a[o].name==i.name){a.splice(o,1);break}uni.setStorage({key:e,data:a,success:function(t){console.log(t)}})}},o=i;e.default=o},"53a0":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-6962e890]{padding:0}.searchBox[data-v-6962e890]{padding:%?10?% %?20?%;height:calc(100vh - 44px);box-sizing:border-box}.searchBox .resultBox .resultItem[data-v-6962e890]{display:flex;flex-wrap:wrap;margin-bottom:%?28?%}.searchBox .resultBox .resultItem .resultItemPic[data-v-6962e890]{width:%?192?%;max-height:128px;background-image:linear-gradient(90deg,#faf5f5,#e0e0e0)}.searchBox .resultBox .resultItem .resultItemRight[data-v-6962e890]{flex:1;margin-left:%?28?%;display:flex;flex-wrap:wrap;align-content:space-around}.searchBox .resultBox .resultItem .resultItemRight .title[data-v-6962e890]{font-weight:900;font-size:%?32?%;color:#333;width:100%}.searchBox .resultBox .resultItem .resultItemRight .detail[data-v-6962e890]{display:flex;flex-direction:column;font-size:%?28?%;color:#909399}.searchBox .emptyBox[data-v-6962e890]{display:flex;flex-wrap:wrap;align-content:center;justify-content:center;height:100%}.searchBox .emptyBox .emptyLabel[data-v-6962e890]{width:100%;text-align:center;color:#84c4de;margin-top:%?10?%}.searchBox .noHistory[data-v-6962e890]{text-align:center;color:#999;margin:%?100?%}.searchBox .history-title[data-v-6962e890]{display:flex;justify-content:space-between;padding:%?20?% 0;padding-bottom:0;font-size:%?34?%;color:#333}.searchBox .history-title .uni-icon[data-v-6962e890]{font-size:%?40?%}.searchBox .history-content[data-v-6962e890]{display:flex;flex-wrap:wrap;padding:%?15?% 0}.searchBox .history-content .history-item[data-v-6962e890]{padding:%?4?% %?35?%;border:1px #f1f1f1 solid;background:#fff;border-radius:%?50?%;margin:%?12?% %?10?%;color:#999;position:relative}.searchBox .history-content .history-item .icon[data-v-6962e890]{position:absolute;right:-10px;top:-10px}",""]),t.exports=e},"9e56":function(t,e,a){var i=a("53a0");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("29242c17",i,!0,{sourceMap:!1,shadowMode:!1})},c982:function(t,e,a){"use strict";var i=a("9e56"),o=a.n(i);o.a},e7fd:function(t,e,a){"use strict";a.r(e);var i=a("09bc"),o=a("3f70");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("c982");var s,r=a("f0c5"),c=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"6962e890",null,!1,i["a"],s);e["default"]=c.exports}}]);