(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-video-searchList"],{"0e2d":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".content[data-v-ad0c47ca]{display:flex;height:calc(100vh - 44px)}.content[data-v-ad0c47ca] .rightBox{height:calc(100vh - 44px);overflow:hidden}.content[data-v-ad0c47ca] .rightBox .uni-scroll-view{height:100%}.content[data-v-ad0c47ca] .rightBox .uni-scroll-view-content{display:grid;grid-template-columns:repeat(5,1fr);flex:1;grid-gap:15px;padding:10px 0;box-sizing:border-box;align-content:start}.content[data-v-ad0c47ca] .rightBox .listItem .listItemTop{width:100%;position:relative}.content[data-v-ad0c47ca] .rightBox .listItem .noteBox{height:40px;line-height:40px;display:flex;padding:0 %?4?%;justify-content:space-between;position:absolute;bottom:0;z-index:2;width:100%;box-sizing:border-box}.content[data-v-ad0c47ca] .rightBox .listItem .noteBox uni-text{color:hsla(0,0%,100%,.85);font-size:12px}.content[data-v-ad0c47ca] .rightBox .listItem .imgBg{width:100%;position:absolute;bottom:0;left:0;z-index:2;border-radius:%?8?%}.content[data-v-ad0c47ca] .rightBox .listItem .imges{width:100%;background-image:linear-gradient(90deg,#faf5f5,#e0e0e0);position:relative;bottom:0;left:0;z-index:1}.content .emptyBox[data-v-ad0c47ca]{display:flex;flex-wrap:wrap;align-content:center;justify-content:center;height:100%;width:100%}.content .emptyBox .emptyLabel[data-v-ad0c47ca]{width:100%;text-align:center;color:#84c4de;margin-top:%?10?%}",""]),e.exports=t},"0e6c":function(e,t,i){e.exports=i.p+"static/img/icon-nodata.a0f1c5df.png"},"2a92":function(e,t,i){"use strict";i.r(t);var n=i("9784"),a=i("d3d8");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("4ed6");var s,r=i("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"f8168554",null,!1,n["a"],s);t["default"]=c.exports},4211:function(e,t,i){var n=i("0e2d");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("28a9969e",n,!0,{sourceMap:!1,shadowMode:!1})},"44ca":function(e,t,i){"use strict";i.r(t);var n=i("d179"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},"4ed6":function(e,t,i){"use strict";var n=i("d960"),a=i.n(n);a.a},"522b":function(e,t,i){"use strict";i("a434"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={setHistory:function(e,t){t=t||"search:history";var i=uni.getStorageSync(t);i||(i=[]);var n={};n="string"===typeof e?{name:e,time:(new Date).getTime()}:e;for(var a=0;a<i.length;a++)if(i[a].name==n.name){i.splice(a,1);break}i.unshift(n),uni.setStorage({key:t,data:i,success:function(e){console.log(e)}})},removeHistory:function(e){e=e||"search:history",uni.removeStorageSync(e);var t=[];return t},removeOneHistory:function(e,t){t=t||"search:history";var i=uni.getStorageSync(t);i||(i=[]);var n={};n="string"===typeof e?{name:e.name,time:(new Date).getTime()}:e;for(var a=0;a<i.length;a++)if(i[a].name==n.name){i.splice(a,1);break}uni.setStorage({key:t,data:i,success:function(e){console.log(e)}})}},a=n;t.default=a},"6e9b":function(e,t,i){"use strict";var n=i("4ea4");i("99af"),i("4de4"),i("4160"),i("c975"),i("d81d"),i("ac1f"),i("5319"),i("1276"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("a27f"),o=n(i("4491")),s={data:function(){return{api:this.$store.state.site.api,scrollY:!1,detail:[],series:[],playItemIndex:-1,pickerValueArray:[{label:"全部频道",value:0},{label:"CCTV",value:1},{label:"卫视",value:2},{label:"影视集",value:3}],themeColor:"#007AFF",mode:"",deepLength:1,pickerValueDefault:[0],index:0,pickerText:"全部频道",searchText:""}},onReady:function(){},methods:{playVideo:function(e,t){(0,o.default)("addLook","tv",{title:e.name,id:e.addres,plan:"",cid:""},this.$store.state.deviceId),this.playItemIndex=t,this.$emit("playTv",{id:e.addres,name:e.name,sign:"tv"})},getStorage:function(){var e=uni.getStorageSync("tv");return e=e||[],e},onCancel:function(e){console.log(e)},showSinglePicker:function(){this.mode="selector",this.deepLength=1,this.pickerValueDefault=[0],this.$refs.mpvuePicker.show()},onConfirm:function(e){console.log(e.label),this.setStyle(0,e.label)},setStyle:function(e,t){var i=this;if(this.pickerText=t,t.indexOf("全部")>-1){var n=this.detail[0].series.filter((function(e){return!0}));this.seriesOld=n,this.series=n.filter((function(e){return!i.searchText||e.name.indexOf(i.searchText.toUpperCase())>-1}))}else if(t.indexOf("影视")>-1){var a=this.detail[0].series.filter((function(e){return-1==e.name.indexOf("CCTV")&&-1==e.name.indexOf("卫视")}));this.seriesOld=a,this.series=a.filter((function(e){return!i.searchText||e.name.indexOf(i.searchText.toUpperCase())>-1}))}else{var o=this.detail[0].series.filter((function(e){return e.name.indexOf(t)>-1}));this.seriesOld=o,this.series=o.filter((function(e){return!i.searchText||e.name.indexOf(i.searchText.toUpperCase())>-1}))}var s=getCurrentPages();s[s.length-1];t.length>5&&(t=t.substr(0,5)+"..."),document.getElementsByClassName("uni-btn-icon")[1].innerText=t},intData:function(){var e=this,t=this.api,i=this.$store.state.tvsearch,n="".concat(t,"?wd=").concat(encodeURIComponent(i));console.log(this.getStorage()),0==this.getStorage().length?(console.log(n),(0,a.getVideoData)(n).then((function(t){var i=t.videoList.filter((function(e){return"电视直播"==e.type[0]}));i.forEach((function(e){e.des[0]=e.des[0].replace(/\s/g,"").replace(/&nbsp;/g,"").replace(/\n/g,"").replace(/<p>/g,"").replace(/<\/p>/g,""),console.log(e.des[0]);var t=[];e.dl.map((function(e){e.dd.map((function(e){var i=e._.split("#");i.map((function(e,i,n){var a={name:e.split("$")[0].toUpperCase(),addres:e.split("$")[1]};t.push(a)}))}))})),e.series=t})),e.series=i[0].series,e.seriesOld=i[0].series,e.detail=i,uni.setStorage({key:"tv",data:i,success:function(e){console.log(e)}})}))):(this.detail=this.getStorage(),this.series=this.detail[0].series,this.seriesOld=this.detail[0].series)}},onLoad:function(){console.log(this.$store.state.grayscale)},onUnload:function(){},mounted:function(){this.intData()},onNavigationBarSearchInputChanged:function(e){console.log(e.text),e.text?this.searchText=e.text:(this.searchText="",this.series=this.seriesOld.filter((function(e){return!0})))},onNavigationBarSearchInputConfirmed:function(){var e=this;console.log(this.searchText),this.series=this.seriesOld.filter((function(t){return t.name.indexOf(e.searchText.toUpperCase())>-1}))},onNavigationBarButtonTap:function(e){0===e.index&&this.showSinglePicker()}};t.default=s},"777f":function(e,t,i){"use strict";var n=i("4211"),a=i.n(n);a.a},9784:function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-scroll-view",{staticStyle:{height:"100vh"},style:{filter:e.$store.state.grayscale},attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"playList"},e._l(e.series,(function(t,n){return i("v-uni-view",{class:[n==e.playItemIndex?"playItemHover":"","playItem"],on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.playVideo(t,n)}}},[e._v(e._s(t.name))])})),1),i("v-uni-view",{staticStyle:{"font-size":"24rpx",color:"#9d9d9d","text-align":"center",padding:"40rpx"}},[e._v(e._s(e.$store.state.conclusion))])],1)},o=[]},b4c3:function(e,t,i){"use strict";i.r(t);var n=i("befa"),a=i("44ca");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("777f");var s,r=i("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"ad0c47ca",null,!1,n["a"],s);t["default"]=c.exports},befa:function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"content"},[e.searchResult.filter((function(t){return!e.$store.state.fill.some((function(e){return t.name[0].indexOf(e)>-1}))})).length>0?n("v-uni-scroll-view",{staticClass:"rightBox",attrs:{"scroll-y":!0},on:{scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.tolower.apply(void 0,arguments)}}},[e._l(e.searchResult.filter((function(t){return!e.$store.state.fill.some((function(e){return t.name[0].indexOf(e)>-1}))})),(function(t,a){return n("v-uni-view",{staticClass:"listItem",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.openDetailTap(t)}}},[n("v-uni-view",{staticClass:"listItemTop"},[n("v-uni-image",{staticClass:"imges",style:{width:"100%",height:(e.deviceWidth-40)/2*.56+"rpx","border-radius":"10rpx"},attrs:{src:t.pic[0],mode:"aspectFill"}}),t.note[0]?n("v-uni-image",{staticClass:"imgBg",style:{height:(e.deviceWidth-40)/2*.56+"rpx"},attrs:{src:i("c03a"),mode:"widthFix"}}):e._e(),n("v-uni-view",{staticClass:"noteBox"},[n("v-uni-text",[e._v(e._s(t.note[0]))]),n("v-uni-text",[e._v(e._s(t.type[0]))])],1)],1),n("v-uni-view",[e._v(e._s(t.name[0]))])],1)})),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.isConclusion,expression:"isConclusion"}],staticStyle:{"font-size":"24rpx",color:"#9d9d9d","text-align":"center",padding:"40rpx"}},[e._v(e._s(e.$store.state.conclusion))])],2):n("v-uni-view",{staticClass:"emptyBox"},[n("v-uni-image",{staticStyle:{width:"128rpx"},attrs:{src:i("0e6c"),mode:"widthFix"}}),n("v-uni-view",{staticClass:"emptyLabel"},[e._v("没有相关资源...")])],1)],1)},o=[]},c03a:function(e,t,i){e.exports=i.p+"static/img/swiperTextbg2.4d325a3a.png"},d179:function(e,t,i){"use strict";var n=i("4ea4");i("99af"),i("ac1f"),i("841c"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("a27f"),o=n(i("2a92")),s=n(i("522b")),r=n(i("4491")),c={data:function(){return{deviceWidth:750*this.$store.state.deviceWidth/this.$store.state.deviceWidth,series:this.$store.state.series,site:this.$store.state.site,hoverIndex:0,searchResult:[],isConclusion:!1,page:1,pagecount:0,searchText:""}},components:{tv:o.default},onLoad:function(e){this.search(e.val)},methods:{openDetailTap:function(e){console.log(e);uni.navigateTo({url:"/pages/video/detail/detail?id=".concat(e.id[0])})},search:function(e){var t=this;this.searchText=e;var i=e;if(i){(0,r.default)("addSeach","video",i,this.$store.state.deviceId),s.default.setHistory(i);var n="".concat(this.site.api,"?wd=").concat(encodeURIComponent(i));(0,a.getVideoData)(n).then((function(e){"string"!=typeof e?(t.searchResult=e.videoList,t.pagecount=e.pageInfo.pagecount,t.searchGo=!0):t.searchResult=e}))}else uni.showToast({title:"请输入搜索字段",icon:"error"})},tolower:function(){var e=this;if(this.page==this.pagecount)this.isConclusion=!0;else{this.page+=1;var t="".concat(this.site.api,"?pg=").concat(this.page,"&wd=").concat(encodeURIComponent(this.searchText));(0,a.getVideoData)(t).then((function(t){e.searchResult=e.searchResult.concat(t.videoList)}))}}}};t.default=c},d3d8:function(e,t,i){"use strict";i.r(t);var n=i("6e9b"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},d960:function(e,t,i){var n=i("dc15");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("d5e86ba2",n,!0,{sourceMap:!1,shadowMode:!1})},dc15:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"uni-page-body[data-v-f8168554]{padding:0}.rightBox[data-v-f8168554]{flex:1}[data-v-f8168554] .uni-scroll-view-content{display:block!important}.playList[data-v-f8168554]{padding:0 10px;box-sizing:border-box;display:grid;grid-template-columns:repeat(4,1fr);grid-gap:10px;margin:14px 0}.playList .playItem[data-v-f8168554]{padding:5px 0;text-align:center;border:1px solid silver;border-radius:%?8?%;color:#f8f8f8;cursor:pointer}.playList .playItem[data-v-f8168554]:hover{border-color:#fff;background-color:#125f14}.playList .playItemHover[data-v-f8168554]{border-color:#fff;background-color:#125f14}.initPicke[data-v-f8168554]{height:0;width:100%;position:fixed;bottom:0;background:rgba(0,0,0,.5);z-index:999;transition:height 1s}.initPicke .picker-body[data-v-f8168554]{height:50%;background-color:#fff;border-radius:%?12?% %?12?% 0 0;width:100%;position:absolute;bottom:0;box-sizing:border-box}.initPicke .picker-body .picker-header[data-v-f8168554]{display:flex;justify-content:space-between;align-items:center;padding:0 20px;height:45px;border-bottom:1px solid #eee;font-size:17px;box-sizing:border-box}.initPicke .picker-body .picker-header .cancel[data-v-f8168554]{color:#888}.initPicke .picker-body .picker-header .sure[data-v-f8168554]{color:#007aff}.showPicker[data-v-f8168554]{height:100vh}",""]),e.exports=t}}]);